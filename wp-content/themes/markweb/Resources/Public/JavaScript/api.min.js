function handleOnlineStatus(){updateOnlineStatus(),window.addEventListener("online",updateOnlineStatus),window.addEventListener("offline",updateOnlineStatus)}function loadScript(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}function updateOnlineStatus(){"onLine"in navigator&&(navigator.onLine?(isonline=!0,document.body.classList.add("online"),document.body.classList.remove("offline")):(isonline=!1,document.body.classList.add("offline"),document.body.classList.remove("online")))}function renderData(e,t){e&&e.length&&(lists.wordpress||(lists.wordpress=$('<div class="list posts wordpress"></div>'),$("body").append(lists.wordpress)),lists.wordpress.empty(),loadScript("/vendor/api/date.format.js",function(){var n=$('<ul class="post-holder">');$.each(e,function(){var e=this,t=dateFormat(e.date,"dS mmmm yyyy, H:MM");n.append('<li class="post post-'+e.id+'"><header><h2 class="post-title"><a rel="bookmark" href="'+e.link+'">'+e.title.rendered+"</a><time>"+t+"</time></h2></header>"+e.excerpt.rendered+'<p><a rel="bookmark" href="'+e.link+'">Read this blog post</a></p></li>')}),page_overlay.addClass("open"),lists.wordpress.append(button("Close",lists.wordpress)).append(n).addClass("open"),$("a",n).attr("target","_blank"),lists.wordpress.on("closeme",function(){$(this).removeClass("open"),page_overlay.removeClass("open")}),storeData(e,t)}))}function storeData(e,t){"localStorage"in window&&(e=JSON.stringify(e),window.localStorage.setItem(t,e))}function localData(e){if("localStorage"in window){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}return!1}function button(e,t){var n=$('<div class="button-holder"></div>'),a=$('<button class="button button-primary"></button>');return n.append(a),a.text(e),a.on("click.close",function(e){$(t).trigger("closeme",e)}),n}var isonline=!0,lists=[],jsonAPI="https://permanenttourist.ch/wp-json/wp/v2/posts",page_overlay;handleOnlineStatus();